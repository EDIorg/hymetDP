<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Define a hymetDP variable — define_variable • hymetDP</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Define a hymetDP variable — define_variable" />
<meta property="og:description" content="Define a hymetDP variable" />
<meta property="og:image" content="https://EDIorg.github.io/hymetDP/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hymetDP</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/create.html">Create</a>
    </li>
    <li>
      <a href="../articles/use_usgs.html">Create from USGS Data</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/EDIorg/hymetDP/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define a hymetDP variable</h1>
    <small class="dont-index">Source: <a href='https://github.com/EDIorg/hymetDP/blob/master/R/define_variable.R'><code>R/define_variable.R</code></a></small>
    <div class="hidden name"><code>define_variable.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Define a hymetDP variable</p>
    </div>

    <pre class="usage"><span class='fu'>define_variable</span><span class='op'>(</span>
  <span class='va'>L0_flat</span>,
  local_variable_column <span class='op'>=</span> <span class='st'>"variable_name"</span>,
  local_variable <span class='op'>=</span> <span class='cn'>NULL</span>,
  variable_name <span class='op'>=</span> <span class='va'>local_variable</span>,
  variable_units <span class='op'>=</span> <span class='cn'>NULL</span>,
  sample_medium <span class='op'>=</span> <span class='st'>"Unknown"</span>,
  value_type <span class='op'>=</span> <span class='st'>"Unknown"</span>,
  is_regular <span class='op'>=</span> <span class='cn'>FALSE</span>,
  time_support <span class='op'>=</span> <span class='fl'>0</span>,
  time_units <span class='op'>=</span> <span class='st'>"hour"</span>,
  data_type <span class='op'>=</span> <span class='st'>"Unknown"</span>,
  general_category <span class='op'>=</span> <span class='st'>"Unknown"</span>,
  no_data <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9999</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>L0_flat</th>
      <td><p>(tbl_df, tbl, data.frame) The fully joined source L0 dataset,
in "flat" format (see details).</p></td>
    </tr>
    <tr>
      <th>local_variable_column</th>
      <td><p>(character) Column in <code>L0_flat</code> table
containing the L0 variable name.</p></td>
    </tr>
    <tr>
      <th>local_variable</th>
      <td><p>(character) Reference to a value in the
<code>local_variable_column</code> from the <code>L0_flat</code> table to which the new
hymetDP variable refers.</p></td>
    </tr>
    <tr>
      <th>variable_name</th>
      <td><p>(character) The CUAHSI ODM Controlled Vocabulary name
for the variable that was measured, observed, modeled, etc. Defaults to the
<code>local_variable</code> value.</p></td>
    </tr>
    <tr>
      <th>variable_units</th>
      <td><p>(character) The CUAHSI ODM Controlled Vocabulary name
of units of the data values associated with a variable. Defaults to a
column <code>unit</code> from the <code>L0_flat</code> table if left unspecified.</p></td>
    </tr>
    <tr>
      <th>sample_medium</th>
      <td><p>(character) The CUAHSI ODM Controlled Vocabulary name of
the medium in which the sample or observation was taken or made.</p></td>
    </tr>
    <tr>
      <th>value_type</th>
      <td><p>(character) The CUAHSI ODM Controlled Vocabulary value that
indicates how the data value was generated.</p></td>
    </tr>
    <tr>
      <th>is_regular</th>
      <td><p>(boolean) Value indicates whether the data values are from
a regularly sampled time series. Choose <code>TRUE</code> or <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>time_support</th>
      <td><p>(numeric) Numerical value that indicates the time support
(or temporal footprint) of the data values. 0 is used to indicate data
values that are instantaneous. Other values indicate the time over which
the data values are implicitly or explicitly averaged or aggregated. Goes
along with <code>time_units</code> if <code>is_regular == TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>time_units</th>
      <td><p>(character) The CUAHSI ODM Controlled Vocabulary name of
units of the time support. If <code>time_support == 0</code>, indicating an
instantaneous observation, a unit needs to still be given for completeness,
although it is arbitrary.</p></td>
    </tr>
    <tr>
      <th>data_type</th>
      <td><p>(character) The CUAHSI ODM Controlled Vocabulary value that
indicates how the value applies over a time interval.</p></td>
    </tr>
    <tr>
      <th>general_category</th>
      <td><p>(character) The CUAHSI ODM Controlled Vocabulary
value for general category of the data  (i.e. Hydrology).</p></td>
    </tr>
    <tr>
      <th>no_data</th>
      <td><p>(numeric) Numeric value used to encode when a data value is
not available for this variable. DataValues will be reformatted to match
this value.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>(tbl_df, tbl, data.frame) An augmented version of the original flat
table, with all of the original columns plus one for each of the specified
variable values (i.e. variable_name, variable_units, etc.), plus the
VariableCode column, with an auto-generated integer value that will become
the primary key of the Variables table. Columns are only added the first
time the function is run. Subsequent runs append values to the existing
columns.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function appends columns to the <code>L0_flat</code> table and
returns the augmented table.</p>
<p>"flat" format refers to the fully joined source L0 dataset in "wide" form
with the exception of the core observation variables, which are in "long"
form (i.e. using the variable_name, value, unit columns of the observation
table). This "flat" format is the "widest" an L1 hymetDP dataset can be
consistently spread due to the frequent occurrence of L0 source datasets
with &gt; 1 core observation variable.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='va'>flat</span> <span class='op'>&lt;-</span> <span class='va'>hymet_L0_flat</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>8</span><span class='op'>]</span>

<span class='va'>flat</span> <span class='op'>&lt;-</span> <span class='fu'>hymetDP</span><span class='fu'>::</span><span class='fu'>define_variable</span><span class='op'>(</span>
  L0_flat <span class='op'>=</span> <span class='va'>flat</span>,
  local_variable_column <span class='op'>=</span> <span class='st'>"variable_name"</span>,
  local_variable <span class='op'>=</span> <span class='st'>"DSCHRGE_RATE"</span>,
  variable_name <span class='op'>=</span> <span class='st'>"Discharge"</span>,
  variable_units <span class='op'>=</span> <span class='st'>"liters per second"</span>,
  sample_medium <span class='op'>=</span> <span class='st'>"Surface water"</span>,
  value_type <span class='op'>=</span> <span class='st'>"Derived Value"</span>,
  is_regular <span class='op'>=</span> <span class='cn'>TRUE</span>,
  time_support <span class='op'>=</span> <span class='fl'>15</span>,
  time_units <span class='op'>=</span> <span class='st'>"minute"</span>,
  data_type <span class='op'>=</span> <span class='st'>"Continuous"</span>,
  general_category <span class='op'>=</span> <span class='st'>"Hydrology"</span>,
  no_data <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9999</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error: 'left_join' is not an exported object from 'namespace:dtplyr'</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kyle Zollo-Venecek.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


